:root{
  --bg-gradient-1:#2a0a2d;
  --bg-gradient-2:#3c0f4a;
  --bg-gradient-3:#5c0f69;
  --glass:rgba(255,182,193,0.1);
  --accent:#ff80bf;
  --accent2:#ffc0d9;
  --text:#f5e6e8;
  --muted:#d3b8c6;
  --btn-primary:#ff80bf;
  --btn-secondary:#ffb3d9;
  --btn-reset:#ff99c2;
  --hearts-color-1:#ff80bf;
  --hearts-color-2:#ffb3d9;
  --hearts-color-3:#ff99c2;
}

:root[data-theme="dark"]{
  --bg-gradient-1:#f9d5d3;
  --bg-gradient-2:#e8c1f2;
  --bg-gradient-3:#ffd6d9;
  --glass:rgba(255,255,255,0.35);
  --accent:#f4978e;
  --accent2:#f2c6e4;
  --text:#3b2c2c;
  --muted:#7a5c5c;
  --btn-primary:#f7a2a0;
  --btn-secondary:#f4c0d3;
  --btn-reset:#f9b7b5;
  --hearts-color-1:#f4978e;
  --hearts-color-2:#f2c6e4;
  --hearts-color-3:#f7a2a0;
}

*{box-sizing:border-box;}
body{
  margin:0;
  padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  font-family:'Poppins',sans-serif;
  height:100vh;
  width:100%;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,var(--bg-gradient-1),var(--bg-gradient-2),var(--bg-gradient-3));
  color:var(--text);
  overflow:hidden;
  animation: backgroundShift 20s infinite alternate;
}

@keyframes backgroundShift{
  0%{background: linear-gradient(135deg,var(--bg-gradient-1),var(--bg-gradient-2),var(--bg-gradient-3));}
  50%{background: linear-gradient(135deg,var(--bg-gradient-2),var(--bg-gradient-3),var(--bg-gradient-1));}
  100%{background: linear-gradient(135deg,var(--bg-gradient-3),var(--bg-gradient-1),var(--bg-gradient-2));}
}

.container{
  max-width:440px;
  width:90%;
  background:var(--glass);
  backdrop-filter:blur(24px);
  -webkit-backdrop-filter:blur(24px);
  border-radius:30px;
  padding:24px;
  box-shadow:0 10px 36px rgba(0,0,0,0.22);
  text-align:center;
  position:relative;
  z-index:2;
}

.image-box img{
  width:140px;
  height:140px;
  border-radius:50%;
  object-fit:cover;
  border:4px solid rgba(255,255,255,0.95);
  margin-bottom:14px;
}

#dhikr-name{
  font-size:1.7rem;
  margin:12px 0;
  color:var(--accent);
  text-shadow:0 0 12px var(--accent2);
  animation:pulseGlow 1.5s infinite;
}

@keyframes pulseGlow{
  0%,100%{transform:scale(1); text-shadow:0 0 12px var(--accent2);}
  50%{transform:scale(1.08); text-shadow:0 0 24px var(--accent2);}
}

button{
  min-height:56px;
  width:90%;
  font-size:1.2rem;
  border:none;
  border-radius:18px;
  margin:10px auto;
  cursor:pointer;
  transition:all .3s ease;
  box-shadow:0 4px 20px rgba(255,105,180,0.4);
}
button:hover{
  transform:translateY(-2px) scale(1.02);
  box-shadow:0 8px 28px rgba(255,105,180,0.6);
}

.increment{background:linear-gradient(90deg,var(--btn-primary),var(--btn-secondary)); color:#fff;}
.save{background:linear-gradient(90deg,var(--btn-secondary),var(--btn-primary)); color:#fff;}
.reset{background:linear-gradient(90deg,var(--btn-reset),var(--btn-primary)); color:#fff;}

:root[data-theme="dark"] button:hover{
  box-shadow:0 0 20px var(--accent2),0 0 30px var(--accent);
  transform:translateY(-2px) scale(1.03);
}

select,input[type="number"],input[type="text"]{
  width:80%;
  border:none;
  border-radius:10px;
  padding:8px;
  margin:6px 0;
  font-size:1rem;
  text-align:center;
  background:#fff;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
}

:root[data-theme="dark"] select,
:root[data-theme="dark"] input[type="number"],
:root[data-theme="dark"] input[type="text"]{
  background:rgba(255,255,255,0.04);
  color:var(--text);
}

.progress-container{
  width:80%;
  height:16px;
  background:rgba(0,0,0,0.12);
  border-radius:12px;
  margin:12px auto;
}
.progress-bar{
  height:100%;
  width:0%;
  background:var(--accent);
  border-radius:12px;
  transition:width .3s ease;
}
.progress-bar.glow{
  box-shadow:0 0 15px var(--accent2),0 0 30px var(--accent);
  transition: box-shadow 0.2s ease;
}

.hearts-container{
  position:fixed;
  inset:0;
  z-index:0;
  pointer-events:none;
}
.heart{
  position:absolute;
  bottom:-10px;
  font-size:18px;
  animation:floatUp 6s linear infinite;
  opacity:0.9;
}
.heart:nth-child(1){color:var(--hearts-color-1);}
.heart:nth-child(2){color:var(--hearts-color-2);}
.heart:nth-child(3){color:var(--hearts-color-3);}

@keyframes floatUp{
  0%{transform:translateY(0) scale(1);opacity:1;}
  100%{transform:translateY(-120vh) scale(1.5);opacity:0;}
}

.love-note{
  font-style:italic;
  color:var(--accent2);
  margin-top:8px;
  font-size:1rem;
  transition:opacity .5s;
}

.topbar{
  position:fixed;
  top:12px;
  right:12px;
  z-index:5;
  display:flex;
  gap:8px;
}
.theme-toggle, .mute-btn{
  background:rgba(255,255,255,0.12);
  border:none;
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  backdrop-filter:blur(6px);
  font-size:1.1rem;
}

@media (max-width:420px){
  .container{width:96%; padding:16px;}
  #count-el{font-size:2.1rem;}
}
